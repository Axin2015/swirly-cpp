INCLUDE_DIRECTORIES("${PROJECT_SOURCE_DIR}/include")
INCLUDE_DIRECTORIES("${PROJECT_SOURCE_DIR}/src")

FILE(GLOB elm_SOURCES "*.c")

ADD_LIBRARY(elm_shared SHARED ${elm_SOURCES})
SET_TARGET_PROPERTIES(elm_shared PROPERTIES OUTPUT_NAME dbr_elm)
TARGET_LINK_LIBRARIES(elm_shared ash_shared m)

ADD_LIBRARY(elm_static STATIC ${elm_SOURCES})
SET_TARGET_PROPERTIES(elm_static PROPERTIES OUTPUT_NAME dbr_elm)
TARGET_LINK_LIBRARIES(elm_static ash_static m)

ADD_LIBRARY(elm_pic STATIC ${elm_SOURCES})
SET_TARGET_PROPERTIES(elm_pic PROPERTIES OUTPUT_NAME dbr_elm_pic)
SET_TARGET_PROPERTIES(elm_pic PROPERTIES COMPILE_FLAGS "${CMAKE_SHARED_LIBRARY_C_FLAGS}")
TARGET_LINK_LIBRARIES(elm_pic ash_pic)

INSTALL(TARGETS elm_shared DESTINATION lib)
INSTALL(TARGETS elm_static DESTINATION lib)
