INCLUDE_DIRECTORIES("${PROJECT_SOURCE_DIR}/include")
INCLUDE_DIRECTORIES("${PROJECT_SOURCE_DIR}/src")

FILE(GLOB test_SOURCES "*.c")

ADD_EXECUTABLE(dbr_test ${test_SOURCES})
TARGET_LINK_LIBRARIES(dbr_test dbr_static m)

INSTALL(TARGETS dbr_test DESTINATION bin)

MACRO(TEST_CASE name)
  ADD_TEST(${name} ${EXECUTABLE_OUTPUT_PATH}/dbr_test ${name})
ENDMACRO(TEST_CASE)

INCLUDE(test_cases.txt)
